# Домашнее задание
## Индексы PostgreSQL
Цель:

Знать и уметь применять основные виды индексов PostgreSQL Построить и анализировать план выполнения запроса Уметь оптимизировать запросы для с использованием индексов

Создать индексы на БД, которые ускорят доступ к данным. В данном задании тренируются навыки:
- определения узких мест
- написания запросов для создания индекса оптимизации 

Необходимо:
- Создать индекс к какой-либо из таблиц вашей БД
``` sql
CREATE INDEX "sms_to_index" ON "sms" ("to"); -- поиск номера назначения sms
```
- Прислать текстом результат команды explain, в которой используется данный индекс
```
explain  SELECT sms."to" FROM common.sms WHERE sms.to = '3799995';

QUERY PLAN                                                                  |
----------------------------------------------------------------------------+
Index Only Scan using sms_to_index on sms  (cost=0.14..8.16 rows=1 width=58)|
Index Cond: ("to" = '3799995'::text)                                        |
```

- Реализовать индекс для полнотекстового поиска
``` sql
CREATE INDEX sms_message_index ON common.messages USING GIN (message); -- поиск по тексту смс
```

- Реализовать индекс на часть таблицы или индекс на поле с функцией
``` sql
CREATE INDEX email_index ON common.users(lower(email)); -- поиск по email.
```

- Создать индекс на несколько полей
``` sql
CREATE INDEX campaign_state_idx ON common.sms(campaign_id, state); -- статистика по состояниям отправленных смс
```
- Написать комментарии к каждому из индексов
- Описать что и как делали и с какими проблемами столкнулись

Сразу не хотело выводить explain запроса SELECT sms."to" FROM common.sms WHERE sms.to = 3799995; и выдавало ошибку, что
приравниваю строку к числу, добавив '' в запрос SELECT sms."to" FROM common.sms WHERE sms.to = '3799995'; всё отработало
как и предполагалось. (тип данных поля sms."to" - VARCHAR и автоматически не конвертируется число в строку при запросе)

